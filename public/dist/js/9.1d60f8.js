(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{101:function(n,t,e){var a=e(528);"string"==typeof a&&(a=[[n.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};e(6)(a,r);a.locals&&(n.exports=a.locals)},11:function(n,t,e){"use strict";var a={name:"ConfirmModal",props:["note","cancelText","okText","isDelete"],methods:{cancel:function(){this.$emit("cancel")},ok:function(){this.$emit("ok")}}},r=(e(426),e(3)),o=Object(r.a)(a,(function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("div",{staticClass:"confirm__modal"},[e("div",{staticClass:"inner"},[e("p",{staticClass:"note"},[n._v(n._s(n.note))]),n._v(" "),1==n.isDelete?e("p",{staticClass:"attension"},[n._v("削除するとデータが完全に消去されます。")]):n._e(),n._v(" "),e("div",{staticClass:"actions"},[e("button",{on:{click:n.cancel}},[n._v(n._s(n.cancelText))]),n._v(" "),e("button",{on:{click:n.ok}},[n._v(n._s(n.okText))])])])])}),[],!1,null,"a9502304",null);t.a=o.exports},426:function(n,t,e){"use strict";var a=e(53);e.n(a).a},427:function(n,t,e){(n.exports=e(5)(!1)).push([n.i,".confirm__modal[data-v-a9502304] {\n  position: fixed;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(0, 0, 0, 0.16);\n  z-index: 200;\n}\n.confirm__modal .inner[data-v-a9502304] {\n  position: fixed;\n  z-index: 250;\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%, -50%);\n  width: 400px;\n  border-radius: 5px;\n  border: 1px solid var(--border-color);\n  background-color: #fff;\n  padding: 50px 0 30px;\n}\n.actions[data-v-a9502304] {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding-top: 30px;\n}\n.actions button[data-v-a9502304] {\n  width: 180px;\n  height: 35px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n.actions button[data-v-a9502304]:first-of-type {\n  margin-right: 10px;\n  border: 1px solid var(--border-color);\n}\n.actions button[data-v-a9502304]:nth-of-type(2) {\n  border: 0;\n  background-color: var(--accent-color);\n  color: #fff;\n}\n.note[data-v-a9502304] {\n  text-align: center;\n}\n.attension[data-v-a9502304] {\n  text-align: center;\n  color: #ff0000;\n  font-size: 12px;\n  margin-top: 10px;\n}",""])},43:function(n,t,e){"use strict";e.r(t);var a,r=e(0),o=e.n(r),i=e(11),c=e(2),d=e.n(c);function s(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function l(n,t,e,a,r,o,i){try{var c=n[o](i),d=c.value}catch(n){return void e(n)}c.done?t(d):Promise.resolve(d).then(a,r)}function _(n){return function(){var t=this,e=arguments;return new Promise((function(a,r){var o=n.apply(t,e);function i(n){l(o,a,r,i,c,"next",n)}function c(n){l(o,a,r,i,c,"throw",n)}i(void 0)}))}}var f={layout:"recipient",middleware:"recipient",components:{ConfirmModal:i.a},data:function(){return{isShowModal:!1,columns:[{label:"ステータス",field:"status",sortable:!1},{label:"注文フォーム名",field:"name",sortable:!1},{label:"フォームURL",field:"form_url",sortable:!1},{label:"商品数",field:"product_amount"},{label:"作成日時/最終変更日時",field:"created_at",sortable:!1},{label:"商品",field:"confirm",sortable:!1},{label:"設定",field:"edit",sortable:!1},{label:"送信",field:"send",sortable:!1},{label:"削除",field:"delete",sortable:!1}],rows:[],temp_order_form_id:null,pageCount:1,order_forms:[],keyword:null,from:null,to:null}},methods:(a={clickPage:function(){},changeOrderFormStatus:function(n,t){var e=this;return _(o.a.mark((function a(){var r;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,axios.post("/recipienter/change_order_form_status",{order_form_id:t,flag:n.value?1:0});case 3:r=a.sent,r.data,e.init(),a.next=10;break;case 8:a.prev=8,a.t0=a.catch(0);case 10:case"end":return a.stop()}}),a,null,[[0,8]])})))()},cancelDeleteConfirm:function(){this.isShowModal=!1},search:function(){var n=this;return _(o.a.mark((function t(){var e,a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,axios.post("/recipienter/get_order_form_list");case 3:e=t.sent,a=e.data,n.order_forms=a.orderForms,n.keyword&&(n.order_forms=n.order_forms.filter((function(t){return t.name.includes(n.keyword)}))),n.from&&(n.order_forms=n.order_forms.filter((function(t){return d()(t.created_at).format("YYYYMMDD")>=d()(n.from).format("YYYYMMDD")}))),n.to&&(n.order_forms=n.order_forms.filter((function(t){return d()(t.created_at).format("YYYYMMDD")<=d()(n.to).format("YYYYMMDD")}))),n.rows=n.order_forms.filter((function(n,t){return t<10})),n.setPagination(),t.next=15;break;case 13:t.prev=13,t.t0=t.catch(0);case 15:case"end":return t.stop()}}),t,null,[[0,13]])})))()},okDeleteConfirm:function(){var n=this;return _(o.a.mark((function t(){var e;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,axios.post("/recipienter/delete_order_form",{id:n.temp_order_form_id});case 3:e=t.sent,e.data,n.isShowModal=!1,n.init(),t.next=11;break;case 9:t.prev=9,t.t0=t.catch(0);case 11:case"end":return t.stop()}}),t,null,[[0,9]])})))()},toEditScreen:function(n){this.$router.push({name:"recipient.order_form.edit",query:{id:n}})},init:function(){var n=this;return _(o.a.mark((function t(){var e,a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,axios.post("/recipienter/get_order_form_list");case 3:e=t.sent,a=e.data,n.order_forms=a.orderForms,n.rows=a.orderForms.filter((function(n,t){return t<10})),n.setPagination(),t.next=12;break;case 10:t.prev=10,t.t0=t.catch(0);case 12:case"end":return t.stop()}}),t,null,[[0,10]])})))()},setPagination:function(){this.orders.length%10>0?this.pageCount=parseInt(this.order_forms.length/10)+1:this.pageCount=parseInt(this.order_forms.length/10)}},s(a,"clickPage",(function(n){this.rows=this.order_forms.filter((function(t,e){return e>=10*(n-1)&&e<10*n}))})),s(a,"toMailScreen",(function(n){this.$router.push({name:"recipient.order_form.message.create",query:{id:n}})})),s(a,"deleteProc",(function(n){this.temp_order_form_id=n,this.isShowModal=!0})),s(a,"toConfirmScreen",(function(n){this.$router.push({name:"recipient.order_form.confirm",query:{id:n}})})),a),mounted:function(){this.init()}},p=(e(527),e(3)),u=Object(p.a)(f,(function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("div",{staticClass:"main__container"},[e("h2",{staticClass:"page__title"},[n._v("注文フォーム管理")]),n._v(" "),e("div",{staticClass:"table__header"},[e("div",{staticClass:"search__form"},[e("div",{staticClass:"d-flex mb-14"},[e("div",{staticClass:"form__row d-flex"},[e("input",{directives:[{name:"model",rawName:"v-model",value:n.keyword,expression:"keyword"}],attrs:{type:"text",placeholder:"キーワード"},domProps:{value:n.keyword},on:{input:function(t){t.target.composing||(n.keyword=t.target.value)}}})]),n._v(" "),e("div",{staticClass:"form__row mr-0 d-flex"},[e("input",{directives:[{name:"model",rawName:"v-model",value:n.from,expression:"from"}],attrs:{type:"date"},domProps:{value:n.from},on:{input:function(t){t.target.composing||(n.from=t.target.value)}}})]),n._v(" "),e("div",{staticClass:"deparate"},[n._v("~")]),n._v(" "),e("div",{staticClass:"form__row d-flex"},[e("input",{directives:[{name:"model",rawName:"v-model",value:n.to,expression:"to"}],attrs:{type:"date"},domProps:{value:n.to},on:{input:function(t){t.target.composing||(n.to=t.target.value)}}})]),n._v(" "),e("div",{staticClass:"form__action"},[e("button",{on:{click:n.search}},[n._v("検索")])])])]),n._v(" "),e("div",{staticClass:"exort__part"},[e("router-link",{staticClass:"append_btn",attrs:{to:{name:"recipient.order_form.create"}}},[e("img",{attrs:{src:"/asset/icons/append.svg"}}),n._v("フォーム追加")]),n._v(" "),e("div",{staticClass:"total_count"},[n._v("\n        "+n._s(n.rows.length)+"件\n      ")])],1)]),n._v(" "),e("div",{staticClass:"table__container"},[e("vue-good-table",{attrs:{columns:n.columns,rows:n.rows,"pagination-options":{enabled:!1}},scopedSlots:n._u([{key:"table-row",fn:function(t){return["status"==t.column.field?e("div",{staticClass:"toggle"},[e("toggle-button",{attrs:{width:88,value:1==t.row.is_public,color:{unchecked:"#707070",checked:"#337DFD",disabled:"#909090"},labels:{unchecked:"非有効",checked:"有効"}},on:{change:function(e){return n.changeOrderFormStatus(e,t.row.id)}}})],1):"created_at"==t.column.field?e("div",[e("p",[n._v(n._s(n._f("dateFormatFull")(t.row.created_at)))]),n._v(" "),e("p",[n._v(n._s(n._f("dateFormatFull")(t.row.updated_at)))])]):"form_url"==t.column.field?e("div",[e("router-link",{attrs:{to:{name:"client.order.detail",query:{id:t.row.id}}}},[n._v(n._s("https://ukerundesu.com/client/order/detail?id="+t.row.id))])],1):"product_amount"==t.column.field?e("div",[n._v("\n          "+n._s(t.row.ordered_products.length)+"\n        ")]):"confirm"==t.column.field?e("div",[e("button",{staticClass:"detail_btn",on:{click:function(e){return n.toConfirmScreen(t.row.id)}}},[n._v("確認")])]):"edit"==t.column.field?e("div",[e("button",{staticClass:"detail_btn",on:{click:function(e){return n.toEditScreen(t.row.id)}}},[n._v("編集")])]):"send"==t.column.field?e("div",[e("button",{staticClass:"detail_btn send",on:{click:function(e){return n.toMailScreen(t.row.id)}}},[n._v("送信")])]):"delete"==t.column.field?e("div",[e("a",{staticClass:"delete_btn",on:{click:function(e){return n.deleteProc(t.row.id)}}},[e("img",{attrs:{src:"/asset/icons/delete.svg"}})])]):e("div",{staticClass:"table_cell"},[n._v("\n          "+n._s(t.formattedRow[t.column.field])+"\n        ")])]}}])},[n._v(" "),e("div",{attrs:{slot:"table-actions-bottom"},slot:"table-actions-bottom"},[e("paginate",{attrs:{"page-count":n.pageCount,"click-handler":n.clickPage,"prev-text":"次","next-text":"前","container-class":"my_custom_pagination"}})],1)])],1),n._v(" "),n.isShowModal?e("ConfirmModal",{attrs:{note:"削除します。よろしいでしょうか",cancelText:"キャンセル",okText:"削除する"},on:{cancel:n.cancelDeleteConfirm,ok:n.okDeleteConfirm}}):n._e()],1)}),[],!1,null,"7ec17da3",null);t.default=u.exports},527:function(n,t,e){"use strict";var a=e(101);e.n(a).a},528:function(n,t,e){(n.exports=e(5)(!1)).push([n.i,'.d-flex[data-v-7ec17da3] {\n  display: flex;\n  align-items: center;\n}\n.mb-14[data-v-7ec17da3] {\n  margin-bottom: 14px;\n}\n.main__container[data-v-7ec17da3] {\n  padding: 20px 30px;\n}\n.main__container .page__title[data-v-7ec17da3] {\n  margin-bottom: 20px;\n}\n.main__container .table__header[data-v-7ec17da3] {\n  display: flex;\n  width: 1290px;\n  align-items: flex-end;\n  margin-bottom: 12px;\n}\n.main__container .table__header .search__form[data-v-7ec17da3] {\n  width: 850px;\n  border: 1px solid var(--border-color);\n  padding: 8px 10px;\n  background-color: #fff;\n  border-radius: 5px;\n  margin-bottom: 30px;\n}\n.main__container .table__header .search__form .form__row[data-v-7ec17da3] {\n  margin-right: 15px;\n  width: 200px;\n}\n.main__container .table__header .search__form .form__row.mr-0[data-v-7ec17da3] {\n  margin-right: 0;\n}\n.main__container .table__header .search__form .form__row input[data-v-7ec17da3], .main__container .table__header .search__form .form__row select[data-v-7ec17da3] {\n  height: 30px;\n  flex: 1;\n  border: 1px solid var(--border-color);\n  padding-left: 6px;\n  padding-right: 6px;\n  font-size: 14px;\n}\n.main__container .table__header .search__form .deparate[data-v-7ec17da3] {\n  font-size: 16px;\n  width: 20px;\n  text-align: center;\n}\n.main__container .table__header .search__form .form__action[data-v-7ec17da3] {\n  margin-left: auto;\n  margin-right: auto;\n  width: -webkit-fit-content;\n  width: -moz-fit-content;\n  width: fit-content;\n}\n.main__container .table__header .search__form .form__action button[data-v-7ec17da3] {\n  width: 120px;\n  height: 30px;\n  background-color: var(--accent-color);\n  color: #fff;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 12px;\n  border: 0;\n  font-weight: bold;\n  cursor: pointer;\n}\n.main__container .table__header .exort__part[data-v-7ec17da3] {\n  flex: 1;\n}\n.main__container .table__header .exort__part .append_btn[data-v-7ec17da3] {\n  margin-left: auto;\n  width: 120px;\n  height: 30px;\n  background-color: #985298;\n  color: #fff;\n  font-size: 12px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  box-shadow: 0px 3px 6px rgba(0, 0, 0, 0.16);\n  font-weight: 600;\n  margin-bottom: 35px;\n}\n.main__container .table__header .exort__part .append_btn img[data-v-7ec17da3] {\n  margin-right: 4px;\n}\n.main__container .table__header .exort__part .append_btn[data-v-7ec17da3]:hover {\n  color: #fff;\n}\n.main__container .table__header .exort__part .download_panel[data-v-7ec17da3] {\n  padding: 15px;\n  background-color: var(--accent-color);\n  border-radius: 5px;\n  display: flex;\n  width: -webkit-fit-content;\n  width: -moz-fit-content;\n  width: fit-content;\n  margin-left: auto;\n  margin-top: 10px;\n  box-shadow: 0 3px 6px rgba(0, 0, 0, 0.16);\n  position: relative;\n}\n.main__container .table__header .exort__part .download_panel a[data-v-7ec17da3] {\n  border-radius: 5px;\n  background-color: #fff;\n  padding-left: 6px;\n  padding-right: 6px;\n  height: 25px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin-right: 14px;\n  font-size: 12px;\n  color: var(--text-color);\n}\n.main__container .table__header .exort__part .download_panel a[data-v-7ec17da3]:last-of-type {\n  margin-right: 0;\n}\n.main__container .table__header .exort__part .download_panel a img[data-v-7ec17da3] {\n  margin-right: 6px;\n}\n.main__container .table__header .exort__part .download_panel[data-v-7ec17da3]:after {\n  content: "";\n  position: absolute;\n  width: 0;\n  height: 0;\n  border-top: 20px solid var(--accent-color);\n  border-left: 10px solid transparent;\n  border-right: 10px solid transparent;\n  right: 35px;\n  bottom: -20px;\n}\n.main__container .table__header .exort__part .total_count[data-v-7ec17da3] {\n  padding-right: 130px;\n  font-size: 12px;\n  color: var(--text-color);\n  text-align: right;\n  padding-top: 10px;\n}\n.main__container .table__container[data-v-7ec17da3] {\n  padding-top: 0px;\n  width: 1290px;\n}\n.table_cell[data-v-7ec17da3] {\n  font-size: 12px;\n}\n.shipping_slip[data-v-7ec17da3] {\n  width: 60px;\n  height: 20px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: #fff;\n  font-size: 12px;\n  background-color: var(--accent-color);\n}\n.shipping_slip.off[data-v-7ec17da3] {\n  background-color: #D34555;\n}\n.detail_btn[data-v-7ec17da3] {\n  width: 60px;\n  height: 20px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border: 0;\n  background-color: var(--border-color);\n  color: #fff;\n  font-size: 12px;\n}\n.detail_btn.send[data-v-7ec17da3] {\n  background-color: var(--accent-color);\n}\n.delete_btn[data-v-7ec17da3] {\n  display: flex;\n}\n.select[data-v-7ec17da3] {\n  width: 15px;\n  height: 15px;\n  border: 1px solid var(--border-color);\n}',""])},53:function(n,t,e){var a=e(427);"string"==typeof a&&(a=[[n.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};e(6)(a,r);a.locals&&(n.exports=a.locals)}}]);